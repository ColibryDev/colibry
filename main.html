
<!-- Template pour la Barre de navigation-->
<template name="navBar">

<!-- Futur NavBar sous BootStrap 4
<nav class="navbar navbar-light bg-faded">
  <button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar2">
    &#9776;
  </button>
  <div class="collapse navbar-toggleable-xs" id="exCollapsingNavbar2">
    <a class="navbar-brand" href="#">Responsive navbar</a>
    <ul class="nav navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Features</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Pricing</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">About</a>
      </li>
    </ul>
  </div>
</nav>

-->



<nav class="navbar bg-primary navbar-fixed-top navbar-light" style="background-color: #003366;">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <!-- Le titre colibry renvoie vers la page principale lend -->
      <a class="navbar-brand" href="{{pathFor route='lend'}}">Colibry</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
      	<!-- Un boutton lend et un bouton borrow. ATTENTION, lorsqu'on clique sur borrow, le bouton ne s'active pas. A mon avis, il faut essayer de faire une fonction events qui lorsqu'on clique sur borrow ajoute une class à l'event puis la retire à l'autre... et inversement -->
        <li class="active"><a href="{{pathFor route='lend'}}">Lend<span class="sr-only">(current)</span></a></li>
        <li><a href="{{pathFor route='borrow'}}">Borrow</a></li>
        
      </ul>
      <form class="navbar-form navbar-left" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="ISBN, title, author, theme, etc.">
        </div>
        <button type="submit" class="btn btn-default">Borrow</button>
      </form>
     <!-- Icônes de droite -->
        <ul class="nav navbar-nav navbar-right">
        	<!-- Si un utilisateur est actuellement connecté-->
        {{#if currentUser}}

        <!--Menu dropdown avec en majeur le nom de l'utilisateur puis lorsqu'on clique dessus : sous menu profile et log-out-->

      <li class="dropdown closed">
              <a id="dropdownProfileMenu" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">
              <!-- Si l'utilisateur a mis une Profile Pic alors a travers la fonction getProfilePic, on va chercher l'ID de l'utilisateur, puis l'Id de son image qu'on va ensuite chercher dans la BD IMAGES puis qu'on renvoit. On appelle ensuite. ProfilePic.url pour avoir l'image dans src ... :)-->
              {{#if currentUser.profile.pic}}
              <img src="{{getProfilePic.url}}" alt="Profile Picture" class="img-circle" height="40" width="40">
              {{else}}
              <span class="glyphicon glyphicon-user"> </span>
              {{/if}}
              {{currentUser.profile.firstName}}  
              <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="drop2">
                <li><a href="{{pathFor route='profile'}}">Profile</a></li>
                <li><a href="{{pathFor route='lend'}}">My Library</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="#" class="logout">Logout</a></li>
              </ul>
            </li>
        <!-- Si aucun utilisateur n'est connecté -->
       {{else}}
        <li><a href="{{pathFor route='loginregister'}}">Login / Register</a></li>
        {{/if}} 
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>


</template>






<!-- TEMPLATE MAIN qui s'affiche sur l'ensemble des pages ! -->
<template name="main">
      {{> yield}}
     {{> navBar}} 
    <p class="text-right">Copyright &copy; Colibry, 2015-2016.</p>
</template>
