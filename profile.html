<head>
  <title>Colibry</title>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=places"></script>
</head>

<!-- TEMPLATE POUR AFFICHER LE PROFILE DE L'UTILISATEUR ET LUI PERMETTRE DE MODIFIER SES INFORMATIONS PERSONNELLES -->
<template name="profile">
 <!--
  {{> quickForm collection="Meteor.users" doc=currentUser id="user-profile-form" type="update" omitFields="emails,createdAt, services"}}
https://github.com/yogiben/meteor-autoform-file
-->

<!-- AUTOFORM, du package aldeed:autoform pour afficher automatiquement un formulaire issu d'un schéma d'une collection-->

Hello {{currentUser.profile.firstName}} !
{{#autoForm collection='Meteor.users' doc=currentUser type='update' id='accountForm' autosave=true}}

  {{> afQuickField name="profile.firstName"}}
  {{> afQuickField name="profile.lastName"}}
  {{> afQuickField name="profile.birthday"}}
  <!-- Package lukemadera/meteor-autoform-googleplace permettant de placer des champs autoform pour adresse. Connexion API automatique puis enregistrement côté serveur de l'adresse décomposée, voir meteor.users.profile.adress1 
	A noter que l'autoupdate ne fonctionne pas pour l'adresse. Pas grave selon moi dans v1 -->
   {{> afQuickField name="profile.address1" type="googleplace" placeholder="Enter you personal address" opts=optsGoogleplace}}
   {{> afQuickField name="profile.address2" type="googleplace" placeholder="Enter you personal address" opts=optsGoogleplace}}
  <button type="submit" class="btn btn-primary">Update</button>
 {{/autoForm}}


</template>